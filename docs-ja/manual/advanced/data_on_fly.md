---
title: 'オンザフライでのデータ準備'
linkTitle: 'オンザフライでのデータ準備'
weight: 31
---

<!--lint disable heading-style-->

## 説明

オンザフライ処理によるデータ操作とは、次のような考え方に基づいています。タスク作成時に、最小限の必要なメタ情報のみを収集します。このメタ情報により、クライアントからリクエストがあった際に必要なチャンク（データのまとまり）を生成できます。

生成されたチャンクは、利用頻度の低いものから削除されるキャッシュ（容量制限あり）に保存されます。

クライアントからリクエストがあると、必要なチャンクがキャッシュ内にあるか検索されます。まだチャンクが存在しない場合は、準備しておいたメタ情報をもとにチャンクを生成し、キャッシュに保存します。

このデータ処理方法により、以下が可能になります。

- タスク作成時間の短縮
- 利用頻度の低いものから削除されるポリシーのキャッシュ（容量制限あり）でデータを保存

ただし、この方法にはいくつかの欠点があります。
- データへの初回アクセス時は、より時間がかかります。
- 一部の動画では、マニフェストファイルが有効でも動作しません。
  スムーズな動画デコードに十分なキーフレームが動画に含まれていない場合、
  タスクデータチャンクは従来通り、タスク作成時に作成されます。
- データがまだキャッシュされておらず、アクセス時に取得できない場合は、データの取得ができません。

#### 使い方

新しいタスクでこの機能を有効・無効にするには、タスク設定の
{{< ilink "/docs/manual/basics/create_an_annotation_task#use-cache" "`Use Cache`" >}}
トグルを使用してください。

#### マニフェストとデータのアップロード

タスク作成時に、動画や画像データセットと一緒に `manifest.jsonl` ファイルをアップロードできます。
その準備方法については{{< ilink "/docs/manual/advanced/dataset_manifest" "こちら" >}}をご覧ください。