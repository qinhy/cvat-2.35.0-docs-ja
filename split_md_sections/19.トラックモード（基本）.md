
# 19.トラックモード（基本）

使用例：

- フレームの連続に対して新しいアノテーションを作成する。
- 既存のアノテーションに対してオブジェクトの追加・修正・削除を行う。
- トラックを編集し、複数の矩形を1つのトラックに統合する。

1. `シェイプモード`と同様に、サイドバーで`矩形（Rectangle）`を選択し、
   表示されるフォームで希望する`ラベル`と`描画方法`を選択します。

   ![](./images/image083.jpg)

1. オブジェクトのトラック作成（例として選択された車を参照）：

   - `トラックモード`で`トラック`をクリックして`矩形（Rectangle）`を作成します。

     ![](./images/image014.jpg)

   - `トラックモード`では、矩形が次のフレームにも自動的に補間されます。
   - サイクリストがフレーム#2270で動き始めます。このフレームをキーフレームとしてマークしましょう。
     そのためには`K`キーを押すか、`星`ボタンをクリックします（下記スクリーンショット参照）。

     ![](./images/image016.jpg)

   - オブジェクトの位置が変わり始めたら、そのタイミングで矩形を修正する必要があります。
     毎フレームで矩形を変更する必要はなく、いくつかのキーフレームのみ更新すれば
     その間のフレームは自動的に補間されます。
   - ここでは30フレーム進んでオブジェクトの境界を調整してみましょう。例は以下の通りです：

     ![](./images/image017_detrac.jpg)

   - その後、フレーム2270から2300の間でオブジェクトの矩形が自動的に変化します：

     ![](./images/gif019_detrac.gif)

1. アノテーションしたオブジェクトが消えたり、非常に小さくなった場合は
   トラックを終了させる必要があります。`Outside Property`を選択し、ショートカットは`O`です。

   ![](./images/image019.jpg)

1. オブジェクトが数フレームで見えなくなり、その後再び現れる場合は、
   `マージ（Merge）`機能を使って複数の個別トラックを
   1つに統合できます。

   ![](./images/image020.jpg)

   - サイクリストが見えているタイミングごとにトラックを作成します：

     ![](./images/gif001_detrac.gif)

   - `マージ`ボタンをクリックするか`M`キーを押して、最初のトラックの任意の矩形と
     次のトラックの任意の矩形をクリックし、以降も同様に選択します：

     ![](./images/image162_detrac.jpg)

   - `マージ`ボタンをクリックするか`M`キーを押して変更を適用します。

     ![](./images/image020.jpg)

   - `補間（Interpolation）`モードでの最終的なアノテーション済みフレームシーケンスは
     下記クリップのようになります：

     ![](./images/gif003_detrac.gif)

     詳細はトラックモード（応用）のセクションをご覧ください。